{"ast":null,"code":"import { baseUrl } from \"../util/baseUrl\";\nimport { USER_PROFILE_URL } from \"../util/urls\";\n\nconst getUserProfile = async data => {\n  try {\n    const response = await fetch(baseUrl() + USER_PROFILE_URL, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${localStorage.getItem(\"token\")}`\n      }\n    });\n\n    if (response.ok) {\n      const res = await response.json();\n      localStorage.setItem(\"userProfileId\", res[0].id);\n      return {\n        success: true,\n        message: \"success\",\n        response: res[0]\n      };\n    } else if (response.status === 401) {\n      const error = await response.json();\n      return {\n        success: false,\n        message: error.detail\n      };\n    } else {\n      const error = await response.json();\n      return {\n        success: false,\n        message: error.message[0]\n      };\n    }\n  } catch (e) {\n    console.log(e);\n    return {\n      success: false,\n      message: \"API Error\"\n    };\n  }\n};\n\nexport default getUserProfile;","map":{"version":3,"sources":["/home/mutahharahmadpersonal/Development/Gro Pakistan/Current/grocapitalapp-react/src/services/Forms/getUserProfile.js"],"names":["baseUrl","USER_PROFILE_URL","getUserProfile","data","response","fetch","method","headers","Authorization","localStorage","getItem","ok","res","json","setItem","id","success","message","status","error","detail","e","console","log"],"mappings":"AAAA,SAASA,OAAT,QAAwB,iBAAxB;AACA,SAASC,gBAAT,QAAiC,cAAjC;;AAEA,MAAMC,cAAc,GAAG,MAAOC,IAAP,IAAgB;AACrC,MAAI;AACF,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACL,OAAO,KAAKC,gBAAb,EAA+B;AACzDK,MAAAA,MAAM,EAAE,KADiD;AAEzDC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEPC,QAAAA,aAAa,EAAG,SAAQC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAF/C;AAFgD,KAA/B,CAA5B;;AAQA,QAAIN,QAAQ,CAACO,EAAb,EAAiB;AACf,YAAMC,GAAG,GAAG,MAAMR,QAAQ,CAACS,IAAT,EAAlB;AACAJ,MAAAA,YAAY,CAACK,OAAb,CAAqB,eAArB,EAAsCF,GAAG,CAAC,CAAD,CAAH,CAAOG,EAA7C;AACA,aAAO;AAAEC,QAAAA,OAAO,EAAE,IAAX;AAAiBC,QAAAA,OAAO,EAAE,SAA1B;AAAqCb,QAAAA,QAAQ,EAAEQ,GAAG,CAAC,CAAD;AAAlD,OAAP;AACD,KAJD,MAIO,IAAIR,QAAQ,CAACc,MAAT,KAAoB,GAAxB,EAA6B;AAClC,YAAMC,KAAK,GAAG,MAAMf,QAAQ,CAACS,IAAT,EAApB;AACA,aAAO;AAAEG,QAAAA,OAAO,EAAE,KAAX;AAAkBC,QAAAA,OAAO,EAAEE,KAAK,CAACC;AAAjC,OAAP;AACD,KAHM,MAGA;AACL,YAAMD,KAAK,GAAG,MAAMf,QAAQ,CAACS,IAAT,EAApB;AACA,aAAO;AAAEG,QAAAA,OAAO,EAAE,KAAX;AAAkBC,QAAAA,OAAO,EAAEE,KAAK,CAACF,OAAN,CAAc,CAAd;AAA3B,OAAP;AACD;AACF,GApBD,CAoBE,OAAOI,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,WAAO;AAAEL,MAAAA,OAAO,EAAE,KAAX;AAAkBC,MAAAA,OAAO,EAAE;AAA3B,KAAP;AACD;AACF,CAzBD;;AA2BA,eAAef,cAAf","sourcesContent":["import { baseUrl } from \"../util/baseUrl\";\nimport { USER_PROFILE_URL } from \"../util/urls\";\n\nconst getUserProfile = async (data) => {\n  try {\n    const response = await fetch(baseUrl() + USER_PROFILE_URL, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${localStorage.getItem(\"token\")}`,\n      },\n    });\n\n    if (response.ok) {\n      const res = await response.json();\n      localStorage.setItem(\"userProfileId\", res[0].id);\n      return { success: true, message: \"success\", response: res[0] };\n    } else if (response.status === 401) {\n      const error = await response.json();\n      return { success: false, message: error.detail };\n    } else {\n      const error = await response.json();\n      return { success: false, message: error.message[0] };\n    }\n  } catch (e) {\n    console.log(e);\n    return { success: false, message: \"API Error\" };\n  }\n};\n\nexport default getUserProfile;\n"]},"metadata":{},"sourceType":"module"}