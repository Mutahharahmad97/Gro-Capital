{"ast":null,"code":"var _jsxFileName = \"/home/mutahharahmadpersonal/Development/Gro Pakistan/Current/grocapitalapp-react/src/components/Form/Form4.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext } from \"react\";\nimport { AppControlContext } from \"../../context/AppControlContext\";\nimport { Link } from \"react-router-dom\";\nimport Amounts from \"./json/Amounts.json\";\nimport SideBar from \"../SideBar/SideBar\";\nimport FinanceData from \"./json/FinanceData\";\nimport logo from \"../../static/logo.svg\";\nimport { useHistory } from \"react-router-dom\";\nimport addFinancialInformation from \"../../services/Forms/addFinancialInformation\";\nimport patchFormStep from \"../../services/Forms/patchFormStep\";\nimport \"./Form.scss\";\nimport BackButton from \"../navigations\";\nimport updateFinancialInformation from \"../../services/Forms/updateFinancialInformation\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Form4 = props => {\n  _s();\n\n  const history = useHistory();\n  const {\n    Form4,\n    setForm4State\n  } = useContext(AppControlContext);\n  const {\n    chosenAmount,\n    setChosenAmount\n  } = useContext(AppControlContext);\n  const {\n    chosenFinance,\n    setChosenFinance\n  } = useContext(AppControlContext);\n  const {\n    currentAmountIndex,\n    setCurrentAmountIndex\n  } = useContext(AppControlContext);\n  const {\n    currentFinanceIndex,\n    setCurrentFinanceIndex\n  } = useContext(AppControlContext);\n  const {\n    setFormStep,\n    setFormBackSteps,\n    formBackSteps\n  } = useContext(AppControlContext); // const { chosenCustomAmount, setChosenCustomAmount } =\n  //   useContext(AppControlContext);\n  // const [formValidation, setFormValidation] = useState({\n  //   FinancingTypeValidate: true,\n  // });\n\n  const [wholeFormValidated, setWholeFormValidated] = useState(true);\n  const [apiErrorState, setApiErrorState] = useState(false);\n  const [apiErrorMessage, setApiErrorMessage] = useState(\"\");\n\n  const updateFormField = e => {\n    setForm4State({ ...Form4,\n      [e.target.name]: e.target.value\n    }); // switch (e.target.name) {\n    //   case \"FinancingType\":\n    //     e.target.value.length > 1 && e.target.value !== \"0\"\n    //       ? setFormValidation({\n    //           ...formValidation,\n    //           FinancingTypeValidate: true,\n    //         })\n    //       : setFormValidation({\n    //           ...formValidation,\n    //           FinancingTypeValidate: false,\n    //         });\n    //     break;\n    //   default:\n    //   //do nothing\n    // }\n  };\n\n  const AmountChanged = (id, amount) => {\n    // if (amount === \"Custom\") setChosenAmount(chosenCustomAmount);\n    // else setChosenAmount(amount);\n    setChosenAmount(amount);\n    setCurrentAmountIndex(id);\n  }; // const HandleCustomAmount = (event) => {\n  //   if (/^([1-4]?[0-9]?[0-9]?){1}[k]?$/.test(event.target.value)){\n  //     setChosenCustomAmount(event.target.value);\n  //     setChosenAmount(event.target.value);\n  //   }\n  //   else {\n  //     setWholeFormValidated(false);\n  //   }\n  // };\n\n\n  const FinanceChanged = (id, amount) => {\n    setCurrentFinanceIndex(id);\n    setChosenFinance(amount);\n  };\n\n  const Next = async () => {\n    let allFormFieldsValidated = false; // let allFormFieldsValidated = true;\n\n    if (Form4.FinancingType !== '0' && Form4.FinancingType !== '') allFormFieldsValidated = true;\n    setWholeFormValidated(allFormFieldsValidated);\n\n    if (allFormFieldsValidated) {\n      let financialInformation = {\n        success: false\n      };\n\n      if (formBackSteps <= 0) {\n        financialInformation = await addFinancialInformation(Form4.FinancingType, chosenAmount, chosenFinance);\n      } else {\n        setFormBackSteps(formBackSteps - 1);\n        financialInformation = await updateFinancialInformation(Form4.FinancingType, chosenAmount, chosenFinance);\n      }\n\n      if (!financialInformation.success) {\n        setApiErrorMessage(financialInformation.message);\n        setApiErrorState(true);\n      } else {\n        const patchFormStep_ = await patchFormStep(6);\n\n        if (!patchFormStep_.success) {\n          setApiErrorMessage(patchFormStep_.message);\n          setApiErrorState(true);\n        } else {\n          setFormStep(6);\n          history.push(\"/dashboard-progress\");\n        }\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"registration-page\",\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"dashboard\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrap\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard__row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard__content dashboard__content--sm form_custom\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"registration-header\",\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: \"/\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: logo,\n                  alt: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"registration-header__steps\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"registration-header__step active\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"registration-header__line full\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"registration-header__step active\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"registration-header__line full\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"registration-header__step active\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"registration-header__line active\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"registration-header__step\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"registration-header__line\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"registration-header__step\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this), !wholeFormValidated && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert--error\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Please Fill the whole form correctly. The Financing amount must contain a 'k' at the end.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 17\n            }, this), apiErrorState && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert--error\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: apiErrorMessage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              action: \"#\",\n              className: \"registration\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"registration__top\",\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  children: \"Financial Information\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: /*#__PURE__*/_jsxDEV(\"select\", {\n                        name: \"FinancingType\",\n                        id: \"financing-type\",\n                        onChange: updateFormField,\n                        value: Form4.FinancingType // className={\n                        //   formValidation.FinancingTypeValidate ? \"\" : \"error\"\n                        // }\n                        ,\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"0\",\n                          children: \"Type of financing needed\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 172,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"Debt\",\n                          children: \"Debt\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 173,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"Equity\",\n                          children: \"Equity\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 177,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"Debt and Equity\",\n                          children: \"Debt and Equity\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 178,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 163,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 158,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"registration\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"registration__box\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"registration__title\",\n                      children: \"How much money do you need?\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 190,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"registration__list disabled\",\n                      children: Amounts.map(amount => {\n                        return /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: amount.id === currentAmountIndex ? \"registration__select active\" : \"registration__select\",\n                          onClick: () => AmountChanged(amount.id, amount.Amount),\n                          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                            children: amount.Amount\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 217,\n                            columnNumber: 31\n                          }, this)\n                        }, amount.id, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 196,\n                          columnNumber: 29\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"hidden\",\n                      name: \"money\",\n                      value: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"registration__box\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"registration__title\",\n                      children: \"What do you need financing for?\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 225,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"registration__list disabled\",\n                      children: FinanceData.map(({\n                        id,\n                        src,\n                        title\n                      }) => {\n                        return /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: id === currentFinanceIndex ? \"registration__select active\" : \"registration__select\",\n                          onClick: () => FinanceChanged(id, title),\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"registration__select-icon\",\n                            children: /*#__PURE__*/_jsxDEV(\"i\", {\n                              className: src\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 241,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 240,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: title\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 243,\n                            columnNumber: 31\n                          }, this)]\n                        }, id, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 231,\n                          columnNumber: 29\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 228,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"hidden\",\n                      name: \"what\",\n                      value: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 248,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(BackButton, {\n                  step: 6\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: Next,\n                  className: \"btn btn--full btn--green open-popup\",\n                  style: {\n                    marginLeft: \"1%\"\n                  },\n                  children: [\"Next\", /*#__PURE__*/_jsxDEV(\"svg\", {\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    width: \"12\",\n                    height: \"21\",\n                    viewBox: \"0 0 12 21\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M-0.293106781,-0.293106781 C0.0673771804,-0.653590743 0.634608236,-0.681320278 1.02689944,-0.376295388 L1.12110678,-0.293106781 L10.9652136,9.551 L1.12110678,19.3951068 C0.730582489,19.7856311 0.0974175106,19.7856311 -0.293106781,19.3951068 C-0.653590743,19.0346228 -0.681320278,18.4673918 -0.376295388,18.0751006 L-0.293106781,17.9808932 L8.136,9.551 L-0.293106781,1.12110678 C-0.653590743,0.76062282 -0.681320278,0.193391764 -0.376295388,-0.198899443 L-0.293106781,-0.293106781 Z\",\n                      transform: \"translate(1 1)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 268,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SideBar, {\n            heading1: \"Let's build\",\n            heading2: \"your company profile\",\n            description: \"The more information we have about your business the more chances we will find you necessary financial help.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Form4, \"eHdfXVKspAVlhajHYMBe0Zsr9U0=\", false, function () {\n  return [useHistory];\n});\n\n_c = Form4;\nexport default Form4;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form4\");","map":{"version":3,"sources":["/home/mutahharahmadpersonal/Development/Gro Pakistan/Current/grocapitalapp-react/src/components/Form/Form4.jsx"],"names":["useState","useContext","AppControlContext","Link","Amounts","SideBar","FinanceData","useHistory","addFinancialInformation","patchFormStep","BackButton","updateFinancialInformation","Form4","props","history","setForm4State","chosenAmount","setChosenAmount","chosenFinance","setChosenFinance","currentAmountIndex","setCurrentAmountIndex","currentFinanceIndex","setCurrentFinanceIndex","setFormStep","setFormBackSteps","formBackSteps","wholeFormValidated","setWholeFormValidated","apiErrorState","setApiErrorState","apiErrorMessage","setApiErrorMessage","updateFormField","e","target","name","value","AmountChanged","id","amount","FinanceChanged","Next","allFormFieldsValidated","FinancingType","financialInformation","success","message","patchFormStep_","push","logo","map","Amount","src","title","display","marginLeft"],"mappings":"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","sourcesContent":["import { useState, useContext } from \"react\";\nimport { AppControlContext } from \"../../context/AppControlContext\";\nimport { Link } from \"react-router-dom\";\nimport Amounts from \"./json/Amounts.json\";\nimport SideBar from \"../SideBar/SideBar\";\nimport FinanceData from \"./json/FinanceData\";\nimport logo from \"../../static/logo.svg\";\nimport { useHistory } from \"react-router-dom\";\nimport addFinancialInformation from \"../../services/Forms/addFinancialInformation\";\nimport patchFormStep from \"../../services/Forms/patchFormStep\";\nimport \"./Form.scss\";\nimport BackButton from \"../navigations\";\nimport updateFinancialInformation from \"../../services/Forms/updateFinancialInformation\";\n\nconst Form4 = (props) => {\n  const history = useHistory();\n  const { Form4, setForm4State } = useContext(AppControlContext);\n  const { chosenAmount, setChosenAmount } = useContext(AppControlContext);\n  const { chosenFinance, setChosenFinance } = useContext(AppControlContext);\n  const { currentAmountIndex, setCurrentAmountIndex } =\n    useContext(AppControlContext);\n  const { currentFinanceIndex, setCurrentFinanceIndex } =\n    useContext(AppControlContext);\n  const { setFormStep, setFormBackSteps, formBackSteps } = useContext(AppControlContext);\n  // const { chosenCustomAmount, setChosenCustomAmount } =\n  //   useContext(AppControlContext);\n  // const [formValidation, setFormValidation] = useState({\n  //   FinancingTypeValidate: true,\n  // });\n  const [wholeFormValidated, setWholeFormValidated] = useState(true);\n  const [apiErrorState, setApiErrorState] = useState(false);\n  const [apiErrorMessage, setApiErrorMessage] = useState(\"\");\n\n  const updateFormField = (e) => {\n    setForm4State({\n      ...Form4,\n      [e.target.name]: e.target.value,\n    });\n\n    // switch (e.target.name) {\n    //   case \"FinancingType\":\n    //     e.target.value.length > 1 && e.target.value !== \"0\"\n    //       ? setFormValidation({\n    //           ...formValidation,\n    //           FinancingTypeValidate: true,\n    //         })\n    //       : setFormValidation({\n    //           ...formValidation,\n    //           FinancingTypeValidate: false,\n    //         });\n    //     break;\n\n    //   default:\n    //   //do nothing\n    // }\n  };\n  const AmountChanged = (id, amount) => {\n    // if (amount === \"Custom\") setChosenAmount(chosenCustomAmount);\n    // else setChosenAmount(amount);\n    setChosenAmount(amount);\n    setCurrentAmountIndex(id);\n  };\n\n  // const HandleCustomAmount = (event) => {\n  //   if (/^([1-4]?[0-9]?[0-9]?){1}[k]?$/.test(event.target.value)){\n  //     setChosenCustomAmount(event.target.value);\n  //     setChosenAmount(event.target.value);\n  //   }\n  //   else {\n  //     setWholeFormValidated(false);\n  //   }\n  // };\n\n  const FinanceChanged = (id, amount) => {\n    setCurrentFinanceIndex(id);\n    setChosenFinance(amount);\n  };\n\n  const Next = async () => {\n    let allFormFieldsValidated = false;\n    // let allFormFieldsValidated = true;\n\n    if (Form4.FinancingType !== '0' && Form4.FinancingType !== '')\n      allFormFieldsValidated = true;\n    setWholeFormValidated(allFormFieldsValidated);\n    if (allFormFieldsValidated) {\n      let financialInformation = {success:false}\n      if (formBackSteps <= 0){\n        financialInformation = await addFinancialInformation(\n          Form4.FinancingType,\n          chosenAmount,\n          chosenFinance\n        );\n      } else {\n        setFormBackSteps(formBackSteps - 1);\n        financialInformation = await updateFinancialInformation(\n          Form4.FinancingType,\n          chosenAmount,\n          chosenFinance\n        );\n      }\n\n      if (!financialInformation.success) {\n        setApiErrorMessage(financialInformation.message);\n        setApiErrorState(true);\n      } else {\n        const patchFormStep_ = await patchFormStep(6);\n        if (!patchFormStep_.success) {\n          setApiErrorMessage(patchFormStep_.message);\n          setApiErrorState(true);\n        } else {\n          setFormStep(6);\n          history.push(\"/dashboard-progress\");\n        }\n      }\n    }\n  };\n\n  return (\n    <div id=\"registration-page\">\n      <section className=\"dashboard\">\n        <div className=\"wrap\">\n          <div className=\"dashboard__row\">\n            <div className=\"dashboard__content dashboard__content--sm form_custom\">\n              <div className=\"registration-header\">\n                <Link to=\"/\">\n                  <img src={logo} alt=\"\" />\n                </Link>\n                <div className=\"registration-header__steps\">\n                  <div className=\"registration-header__step active\"></div>\n                  <div className=\"registration-header__line full\"></div>\n                  <div className=\"registration-header__step active\"></div>\n                  <div className=\"registration-header__line full\"></div>\n                  <div className=\"registration-header__step active\"></div>\n                  <div className=\"registration-header__line active\"></div>\n                  <div className=\"registration-header__step\"></div>\n                  <div className=\"registration-header__line\"></div>\n                  <div className=\"registration-header__step\"></div>\n                </div>\n              </div>\n              {!wholeFormValidated && (\n                <div className=\"alert alert--error\">\n                  <p>Please Fill the whole form correctly. The Financing\n                     amount must contain a 'k' at the end. \n                  </p>\n                </div>\n              )}\n              {apiErrorState && (\n                <div className=\"alert alert--error\">\n                  <p>{apiErrorMessage}</p>\n                </div>\n              )}\n              <form action=\"#\" className=\"registration\">\n                <div className=\"registration__top\">\n                  <h1>Financial Information</h1>\n                  <div className=\"row\">\n                    <div className=\"col-12\">\n                      <div className=\"form-group\">\n                        {/* <select name=\"\" id=\"financing-type\">\n                          <option value=\"type\">Type of financing needed</option>\n                        </select> */}\n\n                        <select\n                          name=\"FinancingType\"\n                          id=\"financing-type\"\n                          onChange={updateFormField}\n                          value={Form4.FinancingType}\n                          // className={\n                          //   formValidation.FinancingTypeValidate ? \"\" : \"error\"\n                          // }\n                        >\n                          <option value=\"0\">Type of financing needed</option>\n                          <option value=\"Debt\">Debt</option>\n                          {/* <option value=\"Convertible Debt\">\n                            Convertible Debt\n                          </option> */}\n                          <option value=\"Equity\">Equity</option>\n                          <option value=\"Debt and Equity\">Debt and Equity</option>\n                          {/* <option value=\"Not Picky\">Not Picky</option> */}\n                        </select>\n                        {/* {!formValidation.FinancingTypeValidate && (\n                          <span className=\"has-error\">* Required</span>\n                        )} */}\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"registration\">\n                    <div className=\"registration__box\">\n                      <div className=\"registration__title\">\n                        How much money do you need?\n                      </div>\n                      <div className=\"registration__list disabled\">\n                        {Amounts.map((amount) => {\n                          return (\n                            <span\n                              className={\n                                amount.id === currentAmountIndex\n                                  ? \"registration__select active\"\n                                  : \"registration__select\"\n                              }\n                              key={amount.id}\n                              onClick={() =>\n                                AmountChanged(amount.id, amount.Amount)\n                              }\n                            >\n                              {/* {amount.id === Amounts.length &&\n                              amount.id === currentAmountIndex ? (\n                                <input\n                                  className=\"custom-amount\"\n                                  onChange={HandleCustomAmount}\n                                  value={chosenCustomAmount}\n                                />\n                              ) : (\n                                <h3>{amount.Amount}</h3>\n                              )} */}\n                              <h3>{amount.Amount}</h3>\n                            </span>\n                          );\n                        })}\n                      </div>\n                      <input type=\"hidden\" name=\"money\" value=\"\" />\n                    </div>\n                    <div className=\"registration__box\">\n                      <div className=\"registration__title\">\n                        What do you need financing for?\n                      </div>\n                      <div className=\"registration__list disabled\">\n                        {FinanceData.map(({ id, src, title }) => {\n                          return (\n                            <span\n                              className={\n                                id === currentFinanceIndex\n                                  ? \"registration__select active\"\n                                  : \"registration__select\"\n                              }\n                              key={id}\n                              onClick={() => FinanceChanged(id, title)}\n                            >\n                              <div className=\"registration__select-icon\">\n                                <i className={src} />\n                              </div>\n                              <p>{title}</p>\n                            </span>\n                          );\n                        })}\n                      </div>\n                      <input type=\"hidden\" name=\"what\" value=\"\" />\n                    </div>\n                  </div>\n                </div>\n                <div style={{display:\"flex\"}}>\n                  <BackButton\n                    step={6}\n                  />\n                  <div\n                    onClick={Next}\n                    className=\"btn btn--full btn--green open-popup\"\n                    style={{marginLeft:\"1%\"}}\n                  >\n                    Next\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"12\"\n                      height=\"21\"\n                      viewBox=\"0 0 12 21\"\n                    >\n                      <path\n                        d=\"M-0.293106781,-0.293106781 C0.0673771804,-0.653590743 0.634608236,-0.681320278 1.02689944,-0.376295388 L1.12110678,-0.293106781 L10.9652136,9.551 L1.12110678,19.3951068 C0.730582489,19.7856311 0.0974175106,19.7856311 -0.293106781,19.3951068 C-0.653590743,19.0346228 -0.681320278,18.4673918 -0.376295388,18.0751006 L-0.293106781,17.9808932 L8.136,9.551 L-0.293106781,1.12110678 C-0.653590743,0.76062282 -0.681320278,0.193391764 -0.376295388,-0.198899443 L-0.293106781,-0.293106781 Z\"\n                        transform=\"translate(1 1)\"\n                      />\n                    </svg>\n                  </div>\n                </div>\n              </form>\n            </div>\n            <SideBar\n              heading1=\"Let's build\"\n              heading2=\"your company profile\"\n              description=\"The more information we have about your business the more chances we will find you necessary financial help.\"\n            />\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default Form4;\n"]},"metadata":{},"sourceType":"module"}