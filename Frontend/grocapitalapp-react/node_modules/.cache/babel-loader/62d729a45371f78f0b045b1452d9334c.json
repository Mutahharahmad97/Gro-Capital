{"ast":null,"code":"var _jsxFileName = \"/home/mutahharahmadpersonal/Development/Gro Pakistan/Current/grocapitalapp-react/src/components/Popups/CompanyPopup.jsx\",\n    _s = $RefreshSig$();\n\nimport { useContext } from \"react\";\nimport { AppControlContext } from \"../../context/AppControlContext\";\nimport { useHistory } from \"react-router-dom\";\nimport addBusinessInformation from \"../../services/Forms/addBusinessInformation\";\nimport patchFormStep from \"../../services/Forms/patchFormStep\";\nimport updateBusinessInformation from \"../../services/Dashboard/updateBusinessInformation\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CompanyPopup = props => {\n  _s();\n\n  const history = useHistory();\n  const popupState = props.popupState ? \"popup active\" : \"popup\";\n  const {\n    Form2\n  } = useContext(AppControlContext);\n  const {\n    setFormStep,\n    setFormBackSteps,\n    formBackSteps\n  } = useContext(AppControlContext);\n\n  const onConfirm = async () => {\n    let businessInformation = {\n      success: false\n    };\n\n    if (formBackSteps <= 0) {\n      businessInformation = await addBusinessInformation({ ...Form2,\n        stateCode: props.states[props.states.findIndex(state => state.name === Form2.State)].code\n      });\n    } else {\n      setFormBackSteps(formBackSteps - 1);\n      businessInformation = await updateBusinessInformation(Form2);\n    }\n\n    if (!businessInformation.success) {\n      props.setApiErrorMessage(businessInformation.message);\n      props.setApiErrorState(true);\n      props.onClose();\n    } else {\n      const patchFormStep_ = await patchFormStep(2);\n\n      if (!patchFormStep_.success) {\n        props.setApiErrorMessage(patchFormStep_.message);\n        props.setApiErrorState(true);\n        props.onClose();\n      } else {\n        setFormStep(2);\n        history.push(\"/registration\");\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"popup-company\",\n    className: popupState,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup__box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popup__item popup__item--sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popup__close\",\n          onClick: props.onClose,\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            width: \"15\",\n            height: \"15\",\n            viewBox: \"0 0 15 15\",\n            children: /*#__PURE__*/_jsxDEV(\"g\", {\n              transform: \"translate(.414 .414)\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M12.2928932,0.292893219 C12.6834175,-0.0976310729 13.3165825,-0.0976310729 13.7071068,0.292893219 C14.0675907,0.65337718 14.0953203,1.22060824 13.7902954,1.61289944 L13.7071068,1.70710678 L1.70710678,13.7071068 C1.31658249,14.0976311 0.683417511,14.0976311 0.292893219,13.7071068 C-0.0675907428,13.3466228 -0.0953202783,12.7793918 0.209704612,12.3871006 L0.292893219,12.2928932 L12.2928932,0.292893219 Z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M0.292893219,0.292893219 C0.65337718,-0.0675907428 1.22060824,-0.0953202783 1.61289944,0.209704612 L1.70710678,0.292893219 L13.7071068,12.2928932 C14.0976311,12.6834175 14.0976311,13.3165825 13.7071068,13.7071068 C13.3466228,14.0675907 12.7793918,14.0953203 12.3871006,13.7902954 L12.2928932,13.7071068 L0.292893219,1.70710678 C-0.0976310729,1.31658249 -0.0976310729,0.683417511 0.292893219,0.292893219 Z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popup__txt\",\n          children: \"Is this your company?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popup__title popup__title--center\",\n          children: Form2.CorporateName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: props.onClose,\n            className: \"btn btn--green-thin btn--full btn--mb\",\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: onConfirm,\n            className: \"btn btn--green btn--full\",\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popup__bg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CompanyPopup, \"SILarQDPlKv2iGzPF4fYA22ouHM=\", false, function () {\n  return [useHistory];\n});\n\n_c = CompanyPopup;\nexport default CompanyPopup;\n\nvar _c;\n\n$RefreshReg$(_c, \"CompanyPopup\");","map":{"version":3,"sources":["/home/mutahharahmadpersonal/Development/Gro Pakistan/Current/grocapitalapp-react/src/components/Popups/CompanyPopup.jsx"],"names":["useContext","AppControlContext","useHistory","addBusinessInformation","patchFormStep","updateBusinessInformation","CompanyPopup","props","history","popupState","Form2","setFormStep","setFormBackSteps","formBackSteps","onConfirm","businessInformation","success","stateCode","states","findIndex","state","name","State","code","setApiErrorMessage","message","setApiErrorState","onClose","patchFormStep_","push","CorporateName"],"mappings":"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","sourcesContent":["import { useContext } from \"react\";\nimport { AppControlContext } from \"../../context/AppControlContext\";\nimport { useHistory } from \"react-router-dom\";\nimport addBusinessInformation from \"../../services/Forms/addBusinessInformation\";\nimport patchFormStep from \"../../services/Forms/patchFormStep\";\nimport updateBusinessInformation from \"../../services/Dashboard/updateBusinessInformation\";\n\nconst CompanyPopup = (props) => {\n  const history = useHistory();\n  const popupState = props.popupState ? \"popup active\" : \"popup\";\n  const { Form2 } = useContext(AppControlContext);\n  const { setFormStep, setFormBackSteps, formBackSteps } = useContext(AppControlContext);\n\n  const onConfirm = async () => {\n    let businessInformation = {success:false}\n    if (formBackSteps <= 0){\n      businessInformation = await addBusinessInformation({...Form2, stateCode: props.states[props.states.findIndex((state) => state.name === Form2.State)].code});\n    } else{\n      setFormBackSteps(formBackSteps - 1)\n      businessInformation = await updateBusinessInformation(Form2);\n    }\n\n    if (!businessInformation.success) {\n      props.setApiErrorMessage(businessInformation.message);\n      props.setApiErrorState(true);\n      props.onClose();\n    } else {\n      const patchFormStep_ = await patchFormStep(2);\n      if (!patchFormStep_.success) {\n        props.setApiErrorMessage(patchFormStep_.message);\n        props.setApiErrorState(true);\n        props.onClose();\n      } else {\n        setFormStep(2);\n        history.push(\"/registration\");\n      }\n    }\n  };\n\n  return (\n    <div id=\"popup-company\" className={popupState}>\n      <div className=\"popup__box\">\n        <div className=\"popup__item popup__item--sm\">\n          <div className=\"popup__close\" onClick={props.onClose}>\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"15\"\n              height=\"15\"\n              viewBox=\"0 0 15 15\"\n            >\n              <g transform=\"translate(.414 .414)\">\n                <path d=\"M12.2928932,0.292893219 C12.6834175,-0.0976310729 13.3165825,-0.0976310729 13.7071068,0.292893219 C14.0675907,0.65337718 14.0953203,1.22060824 13.7902954,1.61289944 L13.7071068,1.70710678 L1.70710678,13.7071068 C1.31658249,14.0976311 0.683417511,14.0976311 0.292893219,13.7071068 C-0.0675907428,13.3466228 -0.0953202783,12.7793918 0.209704612,12.3871006 L0.292893219,12.2928932 L12.2928932,0.292893219 Z\" />\n                <path d=\"M0.292893219,0.292893219 C0.65337718,-0.0675907428 1.22060824,-0.0953202783 1.61289944,0.209704612 L1.70710678,0.292893219 L13.7071068,12.2928932 C14.0976311,12.6834175 14.0976311,13.3165825 13.7071068,13.7071068 C13.3466228,14.0675907 12.7793918,14.0953203 12.3871006,13.7902954 L12.2928932,13.7071068 L0.292893219,1.70710678 C-0.0976310729,1.31658249 -0.0976310729,0.683417511 0.292893219,0.292893219 Z\" />\n              </g>\n            </svg>\n          </div>\n          <div className=\"popup__txt\">Is this your company?</div>\n          <div className=\"popup__title popup__title--center\">\n            {Form2.CorporateName}\n          </div>\n          <div>\n            <div\n              onClick={props.onClose}\n              className=\"btn btn--green-thin btn--full btn--mb\"\n            >\n              No\n            </div>\n            <div onClick={onConfirm} className=\"btn btn--green btn--full\">\n              Yes\n            </div>\n          </div>\n        </div>\n        <div className=\"popup__bg\"></div>\n      </div>\n    </div>\n  );\n};\n\nexport default CompanyPopup;\n"]},"metadata":{},"sourceType":"module"}