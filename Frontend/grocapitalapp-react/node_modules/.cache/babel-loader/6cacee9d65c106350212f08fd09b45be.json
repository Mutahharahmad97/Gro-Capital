{"ast":null,"code":"import { baseUrl } from \"../util/baseUrl\";\nimport { ADD_FINANCIAL_INFORMATION_URL } from \"../util/urls\";\n\nconst addFinancialInformation = async (FinancingType, chosenAmount, chosenFinance) => {\n  chosenAmount = chosenAmount.charAt(chosenAmount.length - 1) === \"k\" ? chosenAmount.replace(\"k\", \"000\") : chosenAmount;\n\n  try {\n    const response = await fetch(baseUrl() + ADD_FINANCIAL_INFORMATION_URL, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${localStorage.getItem(\"token\")}`\n      },\n      body: JSON.stringify({\n        financing_type: FinancingType === \"0\" ? \"\" : FinancingType,\n        amount: chosenAmount,\n        finance: chosenFinance\n      })\n    });\n\n    if (response.ok) {\n      return {\n        success: true,\n        message: \"success\"\n      };\n    } else if (response.status === 401) {\n      const error = await response.json();\n      return {\n        success: false,\n        message: error.detail\n      };\n    } else {\n      const error = await response.json();\n      return {\n        success: false,\n        message: '\"' + Object.keys(error)[0] + '\": ' + error[Object.keys(error)[0]]\n      };\n    }\n  } catch (e) {\n    console.log(e);\n    return {\n      success: false,\n      message: \"API Error\"\n    };\n  }\n};\n\nexport default addFinancialInformation;","map":{"version":3,"sources":["/home/mutahharahmadpersonal/Development/Gro Pakistan/Current/Latest/grocapitalapp-react/src/services/Forms/addFinancialInformation.js"],"names":["baseUrl","ADD_FINANCIAL_INFORMATION_URL","addFinancialInformation","FinancingType","chosenAmount","chosenFinance","charAt","length","replace","response","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","financing_type","amount","finance","ok","success","message","status","error","json","detail","Object","keys","e","console","log"],"mappings":"AAAA,SAASA,OAAT,QAAwB,iBAAxB;AACA,SAASC,6BAAT,QAA8C,cAA9C;;AAEA,MAAMC,uBAAuB,GAAG,OAC9BC,aAD8B,EAE9BC,YAF8B,EAG9BC,aAH8B,KAI3B;AACHD,EAAAA,YAAY,GACVA,YAAY,CAACE,MAAb,CAAoBF,YAAY,CAACG,MAAb,GAAoB,CAAxC,MAA+C,GAA/C,GACIH,YAAY,CAACI,OAAb,CAAqB,GAArB,EAA0B,KAA1B,CADJ,GAEIJ,YAHN;;AAKA,MAAI;AACF,UAAMK,QAAQ,GAAG,MAAMC,KAAK,CAACV,OAAO,KAAKC,6BAAb,EAA4C;AACtEU,MAAAA,MAAM,EAAE,MAD8D;AAEtEC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEPC,QAAAA,aAAa,EAAG,SAAQC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAF/C,OAF6D;AAMtEC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,cAAc,EAAEhB,aAAa,KAAK,GAAlB,GAAwB,EAAxB,GAA6BA,aAD1B;AAEnBiB,QAAAA,MAAM,EAAEhB,YAFW;AAGnBiB,QAAAA,OAAO,EAAEhB;AAHU,OAAf;AANgE,KAA5C,CAA5B;;AAaA,QAAII,QAAQ,CAACa,EAAb,EAAiB;AACf,aAAO;AAAEC,QAAAA,OAAO,EAAE,IAAX;AAAiBC,QAAAA,OAAO,EAAE;AAA1B,OAAP;AACD,KAFD,MAEO,IAAIf,QAAQ,CAACgB,MAAT,KAAoB,GAAxB,EAA6B;AAClC,YAAMC,KAAK,GAAG,MAAMjB,QAAQ,CAACkB,IAAT,EAApB;AACA,aAAO;AAAEJ,QAAAA,OAAO,EAAE,KAAX;AAAkBC,QAAAA,OAAO,EAAEE,KAAK,CAACE;AAAjC,OAAP;AACD,KAHM,MAGA;AACL,YAAMF,KAAK,GAAG,MAAMjB,QAAQ,CAACkB,IAAT,EAApB;AACA,aAAO;AACLJ,QAAAA,OAAO,EAAE,KADJ;AAELC,QAAAA,OAAO,EACL,MAAMK,MAAM,CAACC,IAAP,CAAYJ,KAAZ,EAAmB,CAAnB,CAAN,GAA8B,KAA9B,GAAsCA,KAAK,CAACG,MAAM,CAACC,IAAP,CAAYJ,KAAZ,EAAmB,CAAnB,CAAD;AAHxC,OAAP;AAKD;AACF,GA3BD,CA2BE,OAAOK,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,WAAO;AAAER,MAAAA,OAAO,EAAE,KAAX;AAAkBC,MAAAA,OAAO,EAAE;AAA3B,KAAP;AACD;AACF,CAzCD;;AA2CA,eAAetB,uBAAf","sourcesContent":["import { baseUrl } from \"../util/baseUrl\";\nimport { ADD_FINANCIAL_INFORMATION_URL } from \"../util/urls\";\n\nconst addFinancialInformation = async (\n  FinancingType,\n  chosenAmount,\n  chosenFinance\n) => {\n  chosenAmount =\n    chosenAmount.charAt(chosenAmount.length-1) === \"k\"\n      ? chosenAmount.replace(\"k\", \"000\")\n      : chosenAmount;\n\n  try {\n    const response = await fetch(baseUrl() + ADD_FINANCIAL_INFORMATION_URL, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${localStorage.getItem(\"token\")}`,\n      },\n      body: JSON.stringify({\n        financing_type: FinancingType === \"0\" ? \"\" : FinancingType,\n        amount: chosenAmount,\n        finance: chosenFinance,\n      }),\n    });\n\n    if (response.ok) {\n      return { success: true, message: \"success\" };\n    } else if (response.status === 401) {\n      const error = await response.json();\n      return { success: false, message: error.detail };\n    } else {\n      const error = await response.json();\n      return {\n        success: false,\n        message:\n          '\"' + Object.keys(error)[0] + '\": ' + error[Object.keys(error)[0]],\n      };\n    }\n  } catch (e) {\n    console.log(e);\n    return { success: false, message: \"API Error\" };\n  }\n};\n\nexport default addFinancialInformation;\n"]},"metadata":{},"sourceType":"module"}