{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react')) : typeof define === 'function' && define.amd ? define(['exports', 'react'], factory) : (global = global || self, factory(global.PlaidLink = {}, global.React));\n})(this, function (exports, react) {\n  'use strict';\n\n  var react__default = 'default' in react ? react['default'] : react;\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n\n      if (enumerableOnly) {\n        symbols = symbols.filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        });\n      }\n\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n\n    var _s, _e;\n\n    try {\n      for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function unwrapExports(x) {\n    return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n  }\n\n  function createCommonjsModule(fn, module) {\n    return module = {\n      exports: {}\n    }, fn(module, module.exports), module.exports;\n  }\n\n  var useScript_1 = createCommonjsModule(function (module, exports) {\n    var __rest = commonjsGlobal && commonjsGlobal.__rest || function (s, e) {\n      var t = {};\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n      if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n      }\n      return t;\n    };\n\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n\n    function useScript(_a) {\n      var src = _a.src,\n          _b = _a.checkForExisting,\n          checkForExisting = _b === void 0 ? false : _b,\n          attributes = __rest(_a, [\"src\", \"checkForExisting\"]);\n\n      var _c = react__default.useState(Boolean(src)),\n          loading = _c[0],\n          setLoading = _c[1];\n\n      var _d = react__default.useState(null),\n          error = _d[0],\n          setError = _d[1];\n\n      react__default.useEffect(function () {\n        if (!isBrowser || !src) return;\n\n        if (checkForExisting) {\n          var existing = document.querySelectorAll(\"script[src=\\\"\" + src + \"\\\"]\");\n\n          if (existing.length > 0) {\n            setLoading(false);\n            return;\n          }\n        }\n\n        var scriptEl = document.createElement('script');\n        scriptEl.setAttribute('src', src);\n        Object.keys(attributes).forEach(function (key) {\n          if (scriptEl[key] === undefined) {\n            scriptEl.setAttribute(key, attributes[key]);\n          } else {\n            scriptEl[key] = attributes[key];\n          }\n        });\n\n        var handleLoad = function () {\n          setLoading(false);\n        };\n\n        var handleError = function (error) {\n          setError(error);\n        };\n\n        scriptEl.addEventListener('load', handleLoad);\n        scriptEl.addEventListener('error', handleError);\n        document.body.appendChild(scriptEl);\n        return function () {\n          scriptEl.removeEventListener('load', handleLoad);\n          scriptEl.removeEventListener('error', handleError);\n        }; // we need to ignore the attributes as they're a new object per call, so we'd never skip an effect call\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n      }, [src]);\n      return [loading, error];\n    }\n\n    exports.default = useScript;\n    var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  });\n  unwrapExports(useScript_1);\n  var lib = createCommonjsModule(function (module, exports) {\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    Object.defineProperty(exports, \"default\", {\n      enumerable: true,\n      get: function () {\n        return useScript_1.default;\n      }\n    });\n  });\n  var useScript = unwrapExports(lib);\n\n  var renameKeyInObject = function renameKeyInObject(o, oldKey, newKey) {\n    var newObject = {};\n    delete Object.assign(newObject, o, _defineProperty({}, newKey, o[oldKey]))[oldKey];\n    return newObject;\n  };\n  /**\n   * Wrap link handler creation and instance to clean up iframe via destroy() method\n   */\n\n\n  var createPlaid = function createPlaid(options) {\n    var state = {\n      plaid: null,\n      open: false,\n      onExitCallback: null\n    }; // If Plaid is not available, throw an Error\n\n    if (typeof window === 'undefined' || !window.Plaid) {\n      throw new Error('Plaid not loaded');\n    }\n\n    var config = renameKeyInObject(options, 'publicKey', 'key');\n    state.plaid = window.Plaid.create(_objectSpread2(_objectSpread2({}, config), {}, {\n      onExit: function onExit(error, metadata) {\n        state.open = false;\n        config.onExit && config.onExit(error, metadata);\n        state.onExitCallback && state.onExitCallback();\n      }\n    }));\n\n    var open = function open() {\n      if (!state.plaid) {\n        return;\n      }\n\n      state.open = true;\n      state.onExitCallback = null;\n      state.plaid.open();\n    };\n\n    var exit = function exit(exitOptions, callback) {\n      if (!state.open || !state.plaid) {\n        callback && callback();\n        return;\n      }\n\n      state.onExitCallback = callback;\n      state.plaid.exit(exitOptions);\n\n      if (exitOptions && exitOptions.force) {\n        state.open = false;\n      }\n    };\n\n    var destroy = function destroy() {\n      if (!state.plaid) {\n        return;\n      }\n\n      state.plaid.destroy();\n      state.plaid = null;\n    };\n\n    return {\n      open: open,\n      exit: exit,\n      destroy: destroy\n    };\n  };\n\n  var PLAID_LINK_STABLE_URL = 'https://cdn.plaid.com/link/v2/stable/link-initialize.js';\n\n  var noop = function noop() {};\n  /**\n   * This hook loads Plaid script and manages the Plaid Link creation for you.\n   * You get easy open & exit methods to call and loading & error states.\n   *\n   * This will destroy the Plaid UI on un-mounting so it's up to you to be\n   * graceful to the user.\n   *\n   * A new Plaid instance is created every time the token and products options change.\n   * It's up to you to prevent unnecessary re-creations on re-render.\n   */\n\n\n  var usePlaidLink = function usePlaidLink(options) {\n    // Asynchronously load the plaid/link/stable url into the DOM\n    var _useScript = useScript({\n      src: PLAID_LINK_STABLE_URL,\n      checkForExisting: true\n    }),\n        _useScript2 = _slicedToArray(_useScript, 2),\n        loading = _useScript2[0],\n        error = _useScript2[1]; // internal state\n\n\n    var _useState = react.useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        plaid = _useState2[0],\n        setPlaid = _useState2[1];\n\n    var _useState3 = react.useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        iframeLoaded = _useState4[0],\n        setIframeLoaded = _useState4[1];\n\n    var products = (options.product || []).slice().sort().join(',');\n    react.useEffect(function () {\n      // If the link.js script is still loading, return prematurely\n      if (loading) {\n        return;\n      }\n\n      if (error || !window.Plaid) {\n        // eslint-disable-next-line no-console\n        console.error('Error loading Plaid', error);\n        return;\n      } // if an old plaid instance exists, destroy it before\n      // creating a new one\n\n\n      if (plaid != null) {\n        plaid.exit({\n          force: true\n        }, function () {\n          return plaid.destroy();\n        });\n      }\n\n      var next = createPlaid(_objectSpread2(_objectSpread2({}, options), {}, {\n        onLoad: function onLoad() {\n          setIframeLoaded(true);\n          options.onLoad && options.onLoad();\n        }\n      }));\n      setPlaid(next); // destroy the Plaid iframe factory\n\n      return function () {\n        return next.exit({\n          force: true\n        }, function () {\n          return next.destroy();\n        });\n      };\n    }, [loading, error, options.token, products]);\n    return {\n      error: error,\n      ready: plaid != null && (!loading || iframeLoaded),\n      exit: plaid ? plaid.exit : noop,\n      open: plaid ? plaid.open : noop\n    };\n  };\n\n  var _excluded = [\"children\", \"style\", \"className\"];\n\n  var PlaidLink = function PlaidLink(props) {\n    var children = props.children,\n        style = props.style,\n        className = props.className,\n        config = _objectWithoutProperties(props, _excluded);\n\n    var _usePlaidLink = usePlaidLink(_objectSpread2({}, config)),\n        error = _usePlaidLink.error,\n        open = _usePlaidLink.open;\n\n    return /*#__PURE__*/react__default.createElement(\"button\", {\n      disabled: Boolean(error),\n      type: \"button\",\n      className: className,\n      style: _objectSpread2({\n        padding: '6px 4px',\n        outline: 'none',\n        background: '#FFFFFF',\n        border: '2px solid #F1F1F1',\n        borderRadius: '4px'\n      }, style),\n      onClick: function onClick() {\n        return open();\n      }\n    }, children);\n  };\n\n  PlaidLink.displayName = 'PlaidLink'; // The following event names are stable and will not be deprecated or changed\n\n  (function (PlaidLinkStableEvent) {\n    PlaidLinkStableEvent[\"OPEN\"] = \"OPEN\";\n    PlaidLinkStableEvent[\"EXIT\"] = \"EXIT\";\n    PlaidLinkStableEvent[\"HANDOFF\"] = \"HANDOFF\";\n    PlaidLinkStableEvent[\"SELECT_INSTITUTION\"] = \"SELECT_INSTITUTION\";\n    PlaidLinkStableEvent[\"ERROR\"] = \"ERROR\";\n  })(exports.PlaidLinkStableEvent || (exports.PlaidLinkStableEvent = {}));\n\n  exports.PlaidLink = PlaidLink;\n  exports.usePlaidLink = usePlaidLink;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","map":{"version":3,"sources":["/home/mutahharahmadpersonal/Development/Gro Pakistan/Current/grocapitalapp-react/node_modules/react-plaid-link/dist/index.umd.js"],"names":["global","factory","exports","module","require","define","amd","self","PlaidLink","React","react","react__default","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","_objectWithoutProperties","sourceSymbolKeys","prototype","propertyIsEnumerable","call","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","Array","isArray","_i","Symbol","iterator","_arr","_n","_d","_s","_e","next","done","err","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","from","test","len","arr2","TypeError","commonjsGlobal","globalThis","window","unwrapExports","x","__esModule","hasOwnProperty","createCommonjsModule","fn","useScript_1","__rest","s","e","t","p","useScript","_a","src","_b","checkForExisting","attributes","_c","useState","Boolean","loading","setLoading","error","setError","useEffect","isBrowser","existing","document","querySelectorAll","scriptEl","createElement","setAttribute","undefined","handleLoad","handleError","addEventListener","body","appendChild","removeEventListener","default","lib","get","renameKeyInObject","oldKey","newKey","newObject","assign","createPlaid","options","state","plaid","open","onExitCallback","Plaid","Error","config","create","onExit","metadata","exit","exitOptions","callback","force","destroy","PLAID_LINK_STABLE_URL","noop","usePlaidLink","_useScript","_useScript2","_useState","_useState2","setPlaid","_useState3","_useState4","iframeLoaded","setIframeLoaded","products","product","sort","join","console","onLoad","token","ready","_excluded","props","children","style","className","_usePlaidLink","disabled","type","padding","outline","background","border","borderRadius","onClick","displayName","PlaidLinkStableEvent"],"mappings":"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","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'react'], factory) :\n  (global = global || self, factory(global.PlaidLink = {}, global.React));\n}(this, (function (exports, react) { 'use strict';\n\n  var react__default = 'default' in react ? react['default'] : react;\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n\n      if (enumerableOnly) {\n        symbols = symbols.filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        });\n      }\n\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n\n    var _s, _e;\n\n    try {\n      for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function unwrapExports (x) {\n  \treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n  }\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var useScript_1 = createCommonjsModule(function (module, exports) {\n\n  var __rest = commonjsGlobal && commonjsGlobal.__rest || function (s, e) {\n    var t = {};\n\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n    }\n    return t;\n  };\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n\n\n  function useScript(_a) {\n    var src = _a.src,\n        _b = _a.checkForExisting,\n        checkForExisting = _b === void 0 ? false : _b,\n        attributes = __rest(_a, [\"src\", \"checkForExisting\"]);\n\n    var _c = react__default.useState(Boolean(src)),\n        loading = _c[0],\n        setLoading = _c[1];\n\n    var _d = react__default.useState(null),\n        error = _d[0],\n        setError = _d[1];\n\n    react__default.useEffect(function () {\n      if (!isBrowser || !src) return;\n\n      if (checkForExisting) {\n        var existing = document.querySelectorAll(\"script[src=\\\"\" + src + \"\\\"]\");\n\n        if (existing.length > 0) {\n          setLoading(false);\n          return;\n        }\n      }\n\n      var scriptEl = document.createElement('script');\n      scriptEl.setAttribute('src', src);\n      Object.keys(attributes).forEach(function (key) {\n        if (scriptEl[key] === undefined) {\n          scriptEl.setAttribute(key, attributes[key]);\n        } else {\n          scriptEl[key] = attributes[key];\n        }\n      });\n\n      var handleLoad = function () {\n        setLoading(false);\n      };\n\n      var handleError = function (error) {\n        setError(error);\n      };\n\n      scriptEl.addEventListener('load', handleLoad);\n      scriptEl.addEventListener('error', handleError);\n      document.body.appendChild(scriptEl);\n      return function () {\n        scriptEl.removeEventListener('load', handleLoad);\n        scriptEl.removeEventListener('error', handleError);\n      }; // we need to ignore the attributes as they're a new object per call, so we'd never skip an effect call\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [src]);\n    return [loading, error];\n  }\n\n  exports.default = useScript;\n  var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  });\n\n  unwrapExports(useScript_1);\n\n  var lib = createCommonjsModule(function (module, exports) {\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n\n\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return useScript_1.default;\n    }\n  });\n  });\n\n  var useScript = unwrapExports(lib);\n\n  var renameKeyInObject = function renameKeyInObject(o, oldKey, newKey) {\n    var newObject = {};\n    delete Object.assign(newObject, o, _defineProperty({}, newKey, o[oldKey]))[oldKey];\n    return newObject;\n  };\n  /**\n   * Wrap link handler creation and instance to clean up iframe via destroy() method\n   */\n\n\n  var createPlaid = function createPlaid(options) {\n    var state = {\n      plaid: null,\n      open: false,\n      onExitCallback: null\n    }; // If Plaid is not available, throw an Error\n\n    if (typeof window === 'undefined' || !window.Plaid) {\n      throw new Error('Plaid not loaded');\n    }\n\n    var config = renameKeyInObject(options, 'publicKey', 'key');\n    state.plaid = window.Plaid.create(_objectSpread2(_objectSpread2({}, config), {}, {\n      onExit: function onExit(error, metadata) {\n        state.open = false;\n        config.onExit && config.onExit(error, metadata);\n        state.onExitCallback && state.onExitCallback();\n      }\n    }));\n\n    var open = function open() {\n      if (!state.plaid) {\n        return;\n      }\n\n      state.open = true;\n      state.onExitCallback = null;\n      state.plaid.open();\n    };\n\n    var exit = function exit(exitOptions, callback) {\n      if (!state.open || !state.plaid) {\n        callback && callback();\n        return;\n      }\n\n      state.onExitCallback = callback;\n      state.plaid.exit(exitOptions);\n\n      if (exitOptions && exitOptions.force) {\n        state.open = false;\n      }\n    };\n\n    var destroy = function destroy() {\n      if (!state.plaid) {\n        return;\n      }\n\n      state.plaid.destroy();\n      state.plaid = null;\n    };\n\n    return {\n      open: open,\n      exit: exit,\n      destroy: destroy\n    };\n  };\n\n  var PLAID_LINK_STABLE_URL = 'https://cdn.plaid.com/link/v2/stable/link-initialize.js';\n\n  var noop = function noop() {};\n  /**\n   * This hook loads Plaid script and manages the Plaid Link creation for you.\n   * You get easy open & exit methods to call and loading & error states.\n   *\n   * This will destroy the Plaid UI on un-mounting so it's up to you to be\n   * graceful to the user.\n   *\n   * A new Plaid instance is created every time the token and products options change.\n   * It's up to you to prevent unnecessary re-creations on re-render.\n   */\n\n\n  var usePlaidLink = function usePlaidLink(options) {\n    // Asynchronously load the plaid/link/stable url into the DOM\n    var _useScript = useScript({\n      src: PLAID_LINK_STABLE_URL,\n      checkForExisting: true\n    }),\n        _useScript2 = _slicedToArray(_useScript, 2),\n        loading = _useScript2[0],\n        error = _useScript2[1]; // internal state\n\n\n    var _useState = react.useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        plaid = _useState2[0],\n        setPlaid = _useState2[1];\n\n    var _useState3 = react.useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        iframeLoaded = _useState4[0],\n        setIframeLoaded = _useState4[1];\n\n    var products = (options.product || []).slice().sort().join(',');\n    react.useEffect(function () {\n      // If the link.js script is still loading, return prematurely\n      if (loading) {\n        return;\n      }\n\n      if (error || !window.Plaid) {\n        // eslint-disable-next-line no-console\n        console.error('Error loading Plaid', error);\n        return;\n      } // if an old plaid instance exists, destroy it before\n      // creating a new one\n\n\n      if (plaid != null) {\n        plaid.exit({\n          force: true\n        }, function () {\n          return plaid.destroy();\n        });\n      }\n\n      var next = createPlaid(_objectSpread2(_objectSpread2({}, options), {}, {\n        onLoad: function onLoad() {\n          setIframeLoaded(true);\n          options.onLoad && options.onLoad();\n        }\n      }));\n      setPlaid(next); // destroy the Plaid iframe factory\n\n      return function () {\n        return next.exit({\n          force: true\n        }, function () {\n          return next.destroy();\n        });\n      };\n    }, [loading, error, options.token, products]);\n    return {\n      error: error,\n      ready: plaid != null && (!loading || iframeLoaded),\n      exit: plaid ? plaid.exit : noop,\n      open: plaid ? plaid.open : noop\n    };\n  };\n\n  var _excluded = [\"children\", \"style\", \"className\"];\n  var PlaidLink = function PlaidLink(props) {\n    var children = props.children,\n        style = props.style,\n        className = props.className,\n        config = _objectWithoutProperties(props, _excluded);\n\n    var _usePlaidLink = usePlaidLink(_objectSpread2({}, config)),\n        error = _usePlaidLink.error,\n        open = _usePlaidLink.open;\n\n    return /*#__PURE__*/react__default.createElement(\"button\", {\n      disabled: Boolean(error),\n      type: \"button\",\n      className: className,\n      style: _objectSpread2({\n        padding: '6px 4px',\n        outline: 'none',\n        background: '#FFFFFF',\n        border: '2px solid #F1F1F1',\n        borderRadius: '4px'\n      }, style),\n      onClick: function onClick() {\n        return open();\n      }\n    }, children);\n  };\n  PlaidLink.displayName = 'PlaidLink';\n\n  // The following event names are stable and will not be deprecated or changed\n\n  (function (PlaidLinkStableEvent) {\n    PlaidLinkStableEvent[\"OPEN\"] = \"OPEN\";\n    PlaidLinkStableEvent[\"EXIT\"] = \"EXIT\";\n    PlaidLinkStableEvent[\"HANDOFF\"] = \"HANDOFF\";\n    PlaidLinkStableEvent[\"SELECT_INSTITUTION\"] = \"SELECT_INSTITUTION\";\n    PlaidLinkStableEvent[\"ERROR\"] = \"ERROR\";\n  })(exports.PlaidLinkStableEvent || (exports.PlaidLinkStableEvent = {}));\n\n  exports.PlaidLink = PlaidLink;\n  exports.usePlaidLink = usePlaidLink;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n"]},"metadata":{},"sourceType":"script"}