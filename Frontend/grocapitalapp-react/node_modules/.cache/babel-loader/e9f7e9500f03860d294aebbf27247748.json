{"ast":null,"code":"import { baseUrl } from \"../util/baseUrl\";\nimport { USER_PROFILE_URL } from \"../util/urls\";\n\nconst createUserProfile = async data => {\n  try {\n    const response = await fetch(baseUrl() + USER_PROFILE_URL, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${localStorage.getItem(\"token\")}`\n      },\n      body: JSON.stringify({\n        title: data.Title ? data.Title === \"0\" ? \"\" : data.Title : \"\",\n        phone: data.Phone ? data.Phone : \"\"\n      })\n    });\n\n    if (response.ok) {\n      const res = await response.json();\n      localStorage.setItem(\"userProfileId\", res.id);\n      return {\n        success: true,\n        message: \"success\"\n      };\n    } else if (response.status === 401) {\n      const error = await response.json();\n      return {\n        success: false,\n        message: error.detail\n      };\n    } else {\n      const error = await response.json();\n      return {\n        success: false,\n        message: error.message[0]\n      };\n    }\n  } catch (e) {\n    console.log(e);\n    return {\n      success: false,\n      message: \"API Error\"\n    };\n  }\n};\n\nexport default createUserProfile;","map":{"version":3,"sources":["/home/mutahharahmadpersonal/Development/Gro Pakistan/Current/Latest/grocapitalapp-react/src/services/Forms/createUserProfile.js"],"names":["baseUrl","USER_PROFILE_URL","createUserProfile","data","response","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","title","Title","phone","Phone","ok","res","json","setItem","id","success","message","status","error","detail","e","console","log"],"mappings":"AAAA,SAASA,OAAT,QAAwB,iBAAxB;AACA,SAASC,gBAAT,QAAiC,cAAjC;;AAEA,MAAMC,iBAAiB,GAAG,MAAOC,IAAP,IAAgB;AACxC,MAAI;AACF,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACL,OAAO,KAAKC,gBAAb,EAA+B;AACzDK,MAAAA,MAAM,EAAE,MADiD;AAEzDC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEPC,QAAAA,aAAa,EAAG,SAAQC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAF/C,OAFgD;AAMzDC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,KAAK,EAAEX,IAAI,CAACY,KAAL,GAAaZ,IAAI,CAACY,KAAL,KAAe,GAAf,GAAqB,EAArB,GAA0BZ,IAAI,CAACY,KAA5C,GAAoD,EADxC;AAEnBC,QAAAA,KAAK,EAAEb,IAAI,CAACc,KAAL,GAAad,IAAI,CAACc,KAAlB,GAA0B;AAFd,OAAf;AANmD,KAA/B,CAA5B;;AAYA,QAAIb,QAAQ,CAACc,EAAb,EAAiB;AACf,YAAMC,GAAG,GAAG,MAAMf,QAAQ,CAACgB,IAAT,EAAlB;AACAX,MAAAA,YAAY,CAACY,OAAb,CAAqB,eAArB,EAAsCF,GAAG,CAACG,EAA1C;AACA,aAAO;AAAEC,QAAAA,OAAO,EAAE,IAAX;AAAiBC,QAAAA,OAAO,EAAE;AAA1B,OAAP;AACD,KAJD,MAIO,IAAIpB,QAAQ,CAACqB,MAAT,KAAoB,GAAxB,EAA6B;AAClC,YAAMC,KAAK,GAAG,MAAMtB,QAAQ,CAACgB,IAAT,EAApB;AACA,aAAO;AAAEG,QAAAA,OAAO,EAAE,KAAX;AAAkBC,QAAAA,OAAO,EAAEE,KAAK,CAACC;AAAjC,OAAP;AACD,KAHM,MAGA;AACL,YAAMD,KAAK,GAAG,MAAMtB,QAAQ,CAACgB,IAAT,EAApB;AACA,aAAO;AAAEG,QAAAA,OAAO,EAAE,KAAX;AAAkBC,QAAAA,OAAO,EAAEE,KAAK,CAACF,OAAN,CAAc,CAAd;AAA3B,OAAP;AACD;AACF,GAxBD,CAwBE,OAAOI,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,WAAO;AAAEL,MAAAA,OAAO,EAAE,KAAX;AAAkBC,MAAAA,OAAO,EAAE;AAA3B,KAAP;AACD;AACF,CA7BD;;AA+BA,eAAetB,iBAAf","sourcesContent":["import { baseUrl } from \"../util/baseUrl\";\nimport { USER_PROFILE_URL } from \"../util/urls\";\n\nconst createUserProfile = async (data) => {\n  try {\n    const response = await fetch(baseUrl() + USER_PROFILE_URL, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${localStorage.getItem(\"token\")}`,\n      },\n      body: JSON.stringify({\n        title: data.Title ? data.Title === \"0\" ? \"\" : data.Title : \"\",\n        phone: data.Phone ? data.Phone : \"\",\n      }),\n    });\n\n    if (response.ok) {\n      const res = await response.json();\n      localStorage.setItem(\"userProfileId\", res.id);\n      return { success: true, message: \"success\" };\n    } else if (response.status === 401) {\n      const error = await response.json();\n      return { success: false, message: error.detail };\n    } else {\n      const error = await response.json();\n      return { success: false, message: error.message[0] };\n    }\n  } catch (e) {\n    console.log(e);\n    return { success: false, message: \"API Error\" };\n  }\n};\n\nexport default createUserProfile;\n"]},"metadata":{},"sourceType":"module"}