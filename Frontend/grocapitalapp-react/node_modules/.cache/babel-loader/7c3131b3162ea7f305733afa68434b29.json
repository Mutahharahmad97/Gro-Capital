{"ast":null,"code":"var _jsxFileName = \"/home/mutahharahmadpersonal/Development/Gro Pakistan/Current/grocapitalapp-react/src/pages/settings_page/BusinessInformationForm.jsx\",\n    _s = $RefreshSig$();\n\nimport FormInput from \"../../components/Form/FormInput\";\nimport { fuzzySearch } from \"react-select-search\";\nimport SelectSearch from \"react-select-search\";\nimport states from \"../../components/Form/json/states\";\nimport { useContext, useState, useEffect } from \"react\";\nimport { AppControlContext } from \"../../context/AppControlContext\";\nimport { baseUrl } from \"../../services/util/baseUrl\";\nimport updateBusinessInformation from \"../../services/Dashboard/updateBusinessInformation\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BusinessInformationForm = () => {\n  _s();\n\n  const [formValidation, setFormValidation] = useState({\n    BusinessNameValidate: true,\n    BusinessPhysicalAddressValidate: true,\n    ZipValidate: true,\n    CityValidate: true,\n    EINValidation: true,\n    dataFetched: false\n  });\n  const {\n    Form2,\n    setForm2State\n  } = useContext(AppControlContext);\n  const [updateSuccessState, setupdateSuccessState] = useState(false);\n  const [wholeFormValidated, setWholeFormValidated] = useState(true);\n  const [apiErrorState, setApiErrorState] = useState(false);\n  const [apiErrorMessage, setApiErrorMessage] = useState('');\n\n  const updateZipField = e => {\n    if (/^\\d{0,5}$/.test(e.target.value)) {\n      setForm2State({ ...Form2,\n        [e.target.name]: e.target.value\n      });\n      /^\\d{5}$/.test(e.target.value) || e.target.value.length === 0 ? setFormValidation({ ...formValidation,\n        ZipValidate: true\n      }) : setFormValidation({ ...formValidation,\n        ZipValidate: false\n      });\n    }\n\n    ;\n  };\n\n  const updateFormField = e => {\n    setForm2State({ ...Form2,\n      [e.target.name]: e.target.value\n    });\n\n    if (e.target.name === \"CorporateName\") {\n      e.target.value.length > 0 ? setFormValidation({ ...formValidation,\n        BusinessNameValidate: true\n      }) : setFormValidation({ ...formValidation,\n        BusinessNameValidate: false\n      });\n    }\n  };\n\n  useEffect(() => {\n    const mapAllUserDataToContext = async data => {\n      setForm2State({ ...Form2,\n        CorporateName: data[0].corporate_name,\n        BusinessPhysicalAddress: data[0].business_physical_address,\n        City: data[0].city,\n        State: data[0].state,\n        Zip: data[0].zip,\n        BusinessAs: data[0].business_as,\n        SicCode: data[0].sic_code,\n        DateOfEstablishment: data[0].date_of_establishment,\n        TypeofOwnership: data[0].type_of_ownership,\n        DUNS: data[0].duns,\n        BusinessPhone: data[0].business_phone,\n        Extension: data[0].extension,\n        Experian: data[0].exprerian,\n        EIN: data[0].ein\n      });\n    };\n\n    if (!formValidation.dataFetched) {\n      fetch(baseUrl() + 'business-information', {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Token ${localStorage.getItem(\"token\")}`\n        }\n      }).then(res => res.json()).then(response => {\n        setFormValidation({ ...formValidation,\n          dataFetched: true\n        });\n        mapAllUserDataToContext(response);\n      }).catch(err => console.log(err));\n    }\n  }, [Form2, setForm2State, formValidation]);\n\n  const updateBusinessInfo = async () => {\n    console.log(formValidation);\n\n    if (formValidation.BusinessNameValidate) {\n      const businessInformation = await updateBusinessInformation(Form2);\n\n      if (businessInformation) {\n        setupdateSuccessState(true);\n      } else {\n        setupdateSuccessState(false);\n      }\n    } else {\n      setWholeFormValidated(false);\n      setupdateSuccessState(false);\n    }\n  };\n\n  const selectSearch = value => {\n    setForm2State({ ...Form2,\n      State: value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"settings-pages\",\n    children: [apiErrorState ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert--error\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: apiErrorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 19\n    }, this) : updateSuccessState ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert--success\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Successfully Updated\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 19\n    }, this) : !wholeFormValidated && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert--error\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please Fill the whole form correctly!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 23\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"account_info_heading\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Business Information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"account_info_form\",\n        style: {\n          marginBottom: \"20px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"account_info_form__fields\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            action: \"#\",\n            className: \"registration\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(FormInput, {\n                id: \"set-corp-name\",\n                title: \"Business name\",\n                type: \"text\",\n                name: \"CorporateName\",\n                onchange: updateFormField // onkeyup={updateFormFieldOnKeyUp}\n                //   onblur={updateSsnField}\n                ,\n                validate: formValidation.BusinessNameValidate //   message=\"The format should be xxx-xx-xxxx\"\n                // value={`${Form.FName} ${Form.LName}`}\n                ,\n                value: Form2.CorporateName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n                id: \"set-street-address\",\n                title: \"Street address\",\n                type: \"text\",\n                name: \"BusinessPhysicalAddress\",\n                onchange: updateFormField //   onblur={updateFormField}\n                ,\n                validate: true,\n                message: \"Email format invalid\",\n                value: Form2.BusinessPhysicalAddress\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n                id: \"set-city\",\n                title: \"City\",\n                type: \"text\",\n                name: \"City\",\n                onchange: updateFormField //   onblur={updateTotalMonthlyExpensesField}\n                ,\n                validate: true //   message=\"1200.00 / Numeric value only\"\n                ,\n                value: Form2.City\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12 col-sm-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: /*#__PURE__*/_jsxDEV(SelectSearch, {\n                    options: states,\n                    search: true,\n                    autoComplete: \"null\",\n                    value: Form2.State,\n                    filterOptions: fuzzySearch,\n                    onChange: selectSearch //   placeholder={Form3.State}\n\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n                id: \"set-zip\",\n                title: \"Zip\",\n                type: \"number\",\n                name: \"Zip\",\n                onchange: updateZipField //   onblur={updateTotalMonthlyExpensesField}\n                ,\n                validate: true,\n                class: \"col-sm-3\" //   message=\"1200.00 / Numeric value only\"\n                ,\n                value: Form2.Zip\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                justifyContent: \"center\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: updateBusinessInfo,\n                className: \"btn btn--green account_info_form__btn\",\n                children: \"Update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Business Credit Reports\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"account_info_form\",\n          style: {\n            display: \"block\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"account_info_form__fields\",\n            style: {\n              display: \"flex\",\n              flexDirection: \"column\",\n              backgroundColor: \"#D7EAE6\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/\",\n                className: \"faq-link\",\n                style: {\n                  alignSelf: \"center\",\n                  paddingRight: \"45px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"icon-faq\",\n                  style: {\n                    fontSize: \"20px\",\n                    color: \"#FFA200\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  fontSize: \"12px\"\n                },\n                children: \"CHANGING YOUR BUSINESS WILL REMOVE THE FOLLOWING ITEMS:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              style: {\n                fontSize: \"16px\",\n                fontWeight: \"500\",\n                lineHeight: \"30px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Business credit Reports for the selected business credit bureau.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Cash flow connection\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 9\n  }, this);\n};\n\n_s(BusinessInformationForm, \"6TORQV6tVrTE6z48QNU5HCSiWIM=\");\n\n_c = BusinessInformationForm;\nexport default BusinessInformationForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"BusinessInformationForm\");","map":{"version":3,"sources":["/home/mutahharahmadpersonal/Development/Gro Pakistan/Current/grocapitalapp-react/src/pages/settings_page/BusinessInformationForm.jsx"],"names":["FormInput","fuzzySearch","SelectSearch","states","useContext","useState","useEffect","AppControlContext","baseUrl","updateBusinessInformation","BusinessInformationForm","formValidation","setFormValidation","BusinessNameValidate","BusinessPhysicalAddressValidate","ZipValidate","CityValidate","EINValidation","dataFetched","Form2","setForm2State","updateSuccessState","setupdateSuccessState","wholeFormValidated","setWholeFormValidated","apiErrorState","setApiErrorState","apiErrorMessage","setApiErrorMessage","updateZipField","e","test","target","value","name","length","updateFormField","mapAllUserDataToContext","data","CorporateName","corporate_name","BusinessPhysicalAddress","business_physical_address","City","city","State","state","Zip","zip","BusinessAs","business_as","SicCode","sic_code","DateOfEstablishment","date_of_establishment","TypeofOwnership","type_of_ownership","DUNS","duns","BusinessPhone","business_phone","Extension","extension","Experian","exprerian","EIN","ein","fetch","method","headers","Authorization","localStorage","getItem","then","res","json","response","catch","err","console","log","updateBusinessInfo","businessInformation","selectSearch","marginBottom","display","justifyContent","flexDirection","backgroundColor","alignSelf","paddingRight","fontSize","color","fontWeight","lineHeight"],"mappings":"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","sourcesContent":["import FormInput from \"../../components/Form/FormInput\";\nimport { fuzzySearch } from \"react-select-search\";\nimport SelectSearch from \"react-select-search\";\nimport states from \"../../components/Form/json/states\";\nimport { useContext, useState, useEffect } from \"react\";\nimport { AppControlContext } from \"../../context/AppControlContext\";\nimport { baseUrl } from \"../../services/util/baseUrl\";\nimport updateBusinessInformation from \"../../services/Dashboard/updateBusinessInformation\";\n\nconst BusinessInformationForm = () => {\n  const [formValidation, setFormValidation] = useState({\n    BusinessNameValidate: true,\n    BusinessPhysicalAddressValidate: true,\n    ZipValidate: true,\n    CityValidate: true,\n    EINValidation: true,\n    dataFetched: false\n  });\n  const { Form2, setForm2State } = useContext(AppControlContext);\n  const [updateSuccessState, setupdateSuccessState] = useState(false);\n  const [wholeFormValidated, setWholeFormValidated] = useState(true);\n  const [apiErrorState, setApiErrorState] = useState(false);\n  const [apiErrorMessage, setApiErrorMessage] = useState('');\n\n  const updateZipField = (e) => {\n    if (/^\\d{0,5}$/.test(e.target.value)){\n      setForm2State({\n        ...Form2,\n        [e.target.name]: e.target.value\n      });\n      /^\\d{5}$/.test(e.target.value) || e.target.value.length === 0\n        ? setFormValidation({ ...formValidation, ZipValidate: true })\n        : setFormValidation({ ...formValidation, ZipValidate: false });\n      \n    };\n  };\n\n  const updateFormField = (e) => {\n    setForm2State({\n      ...Form2,\n      [e.target.name]: e.target.value,\n    });\n    if (e.target.name === \"CorporateName\") {\n        e.target.value.length > 0\n          ? setFormValidation({\n              ...formValidation,\n              BusinessNameValidate: true,\n            })\n        :setFormValidation({\n          ...formValidation,\n          BusinessNameValidate: false,\n      });\n    }\n  };\n  useEffect(() => {\n    const mapAllUserDataToContext = async (data) => {\n      setForm2State({\n        ...Form2,\n        CorporateName: data[0].corporate_name,\n        BusinessPhysicalAddress: data[0].business_physical_address,\n        City: data[0].city,\n        State: data[0].state,\n        Zip: data[0].zip,\n        BusinessAs : data[0].business_as,\n        SicCode: data[0].sic_code,\n        DateOfEstablishment: data[0].date_of_establishment,\n        TypeofOwnership: data[0].type_of_ownership,\n        DUNS: data[0].duns,\n        BusinessPhone: data[0].business_phone,\n        Extension: data[0].extension,\n        Experian: data[0].exprerian,\n        EIN: data[0].ein\n      });\n    };\n\n    if (!formValidation.dataFetched) {\n      fetch(baseUrl() + 'business-information', {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Token ${localStorage.getItem(\"token\")}`,\n        },\n      })\n        .then((res) => res.json())\n        .then((response) => {\n          setFormValidation({...formValidation ,dataFetched:true})\n          mapAllUserDataToContext(response);\n        })\n        .catch((err) => console.log(err));\n    }\n  }, [\n    Form2,\n    setForm2State,\n    formValidation\n  ]);\n  const updateBusinessInfo = async () => {\n    console.log(formValidation)\n    if (formValidation.BusinessNameValidate) {\n      const businessInformation = await updateBusinessInformation(Form2);\n\n      if (businessInformation){\n        setupdateSuccessState(true)\n      } else {\n        setupdateSuccessState(false)\n      }\n    } else {\n      setWholeFormValidated(false)\n      setupdateSuccessState(false)\n    }\n  };\n  const selectSearch = (value) => {\n    setForm2State({\n      ...Form2,\n      State: value,\n    });\n  };  \n  return (\n        <div id=\"settings-pages\">\n          {apiErrorState ? (\n                  <div className=\"alert alert--error\">\n                    <p>{apiErrorMessage}</p>\n                  </div>\n                ): updateSuccessState ? (\n                  <div className=\"alert alert--success\">\n                    <p>Successfully Updated</p>\n                  </div>):\n                  !wholeFormValidated &&(\n                    <div className=\"alert alert--error\">\n                      <p>Please Fill the whole form correctly!</p>\n                    </div>\n                  )}\n            <div className=\"account_info_heading\">\n                <h1>\n                    Business Information\n                </h1>\n        <section className=\"account_info_form\" style={{marginBottom:\"20px\"}}>\n          <div className=\"account_info_form__fields\">\n                <form action=\"#\" className=\"registration\">\n                    <div className=\"row\">\n                      <FormInput\n                        id=\"set-corp-name\"\n                        title=\"Business name\"\n                        type=\"text\"\n                        name=\"CorporateName\"\n                        onchange={updateFormField}\n                        // onkeyup={updateFormFieldOnKeyUp}\n                        //   onblur={updateSsnField}\n                        validate={formValidation.BusinessNameValidate}\n                        //   message=\"The format should be xxx-xx-xxxx\"\n                        // value={`${Form.FName} ${Form.LName}`}\n                        value={Form2.CorporateName}\n                      />\n                      <FormInput\n                        id=\"set-street-address\"\n                        title=\"Street address\"\n                        type=\"text\"\n                        name=\"BusinessPhysicalAddress\"\n                        onchange={updateFormField}\n                        //   onblur={updateFormField}\n                        validate={true}\n                        message=\"Email format invalid\"\n                        value={Form2.BusinessPhysicalAddress}\n                      />\n                      <FormInput\n                        id=\"set-city\"\n                        title=\"City\"\n                        type=\"text\"\n                        name=\"City\"\n                        onchange={updateFormField}\n                        //   onblur={updateTotalMonthlyExpensesField}\n                        validate={true}\n                        //   message=\"1200.00 / Numeric value only\"\n                        value={Form2.City}\n                      />\n                      <div className=\"col-12 col-sm-3\">\n                    <div className=\"form-group\">\n                        <SelectSearch\n                          options={states}\n                          search\n                          autoComplete=\"null\"\n                          value={Form2.State}\n                          filterOptions={fuzzySearch}\n                          onChange={selectSearch}\n                          //   placeholder={Form3.State}\n                        />\n                      </div>\n                    </div>\n                      <FormInput\n                        id=\"set-zip\"\n                        title=\"Zip\"\n                        type=\"number\"\n                        name=\"Zip\"\n                        onchange={updateZipField}\n                        //   onblur={updateTotalMonthlyExpensesField}\n                        validate={true}\n                        class=\"col-sm-3\"\n                        //   message=\"1200.00 / Numeric value only\"\n                        value={Form2.Zip}\n                      />\n                    </div>\n                  <div style={{display:\"flex\",justifyContent:\"center\"}}>\n                    <div\n                      onClick={updateBusinessInfo}\n                      className=\"btn btn--green account_info_form__btn\"\n                    >\n                      Update\n                    </div>\n                  </div>    \n                </form>\n            </div>\n        </section>\n        <div>\n          <h1>\n              Business Credit Reports\n          </h1>\n          <div className=\"account_info_form\" style={{display:\"block\"}}>\n            <div className=\"account_info_form__fields\" style={{display:\"flex\",flexDirection:\"column\",backgroundColor:\"#D7EAE6\"}}>\n              <div style={{display:\"flex\"}}>\n                <a href=\"/\" className=\"faq-link\" style={{alignSelf:\"center\",paddingRight:\"45px\"}}>\n                    <i className=\"icon-faq\" style={{fontSize:\"20px\",color:\"#FFA200\"}}></i>\n                  </a>\n                <h2 style={{fontSize:\"12px\"}}>\n                CHANGING YOUR BUSINESS WILL REMOVE THE FOLLOWING ITEMS:\n                </h2>\n              </div>\n              <ul style={{fontSize:\"16px\",fontWeight:\"500\",lineHeight:\"30px\"}}>\n                <li>\n                Business credit Reports for the selected business credit bureau.\n                </li>\n                <li>\n                Cash flow connection\n                </li>\n              </ul>\n            </div>\n          </div>\n          </div>\n        </div>\n        </div>\n    );\n}\nexport default BusinessInformationForm"]},"metadata":{},"sourceType":"module"}