{"ast":null,"code":"var _jsxFileName = \"/home/mutahharahmadpersonal/Development/Gro Pakistan/Current/grocapitalapp-react/src/middlewares/QuickBooksMiddleware.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useContext } from \"react\";\nimport { AppControlContext } from \"../context/AppControlContext\";\nimport { useHistory } from \"react-router-dom\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport addAssetLiabilitiesAndEquity from \"../services/QuickBooks/AddAssetsLiabilititesAndEquity\";\nimport getUserProfile from \"../services/Forms/getUserProfile\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst QuickBooksMiddleware = () => {\n  _s();\n\n  const history = useHistory();\n  const {\n    setFormStep\n  } = useContext(AppControlContext);\n  useEffect(() => {\n    const queryParam = new URLSearchParams(window.location.search);\n    const data = {\n      total_bank_accounts: queryParam.get(\"total_bank_accounts\") ? queryParam.get(\"total_bank_accounts\") : \"\",\n      total_other_current_assets: queryParam.get(\"total_other_current_assets\") ? queryParam.get(\"total_other_current_assets\") : \"\",\n      total_current_assets: queryParam.get(\"total_current_assets\") ? queryParam.get(\"total_current_assets\") : \"\",\n      total_fixed_assets: queryParam.get(\"total_fixed_assets\") ? queryParam.get(\"total_fixed_assets\") : \"\",\n      total_assets: queryParam.get(\"total_assets\") ? queryParam.get(\"total_assets\") : \"\",\n      accounts_payable: queryParam.get(\"accounts_payable\") ? queryParam.get(\"accounts_payable\") : \"\",\n      total_accounts_payable: queryParam.get(\"total_accounts_payable\") ? queryParam.get(\"total_accounts_payable\") : \"\",\n      total_other_current_liabilities: queryParam.get(\"total_other_current_liabilities\") ? queryParam.get(\"total_other_current_liabilities\") : \"\",\n      total_current_liabilities: queryParam.get(\"total_current_liabilities\"),\n      total_long_term_liabilities: queryParam.get(\"total_long_term_liabilities\"),\n      total_liabilities: queryParam.get(\"total_liabilities\"),\n      total_equity: queryParam.get(\"total_equity\"),\n      total_liabilities_and_equity: queryParam.get(\"total_liabilities_and_equity\"),\n      accounts_recieveable: queryParam.get(\"accounts_recieveable\") ? queryParam.get(\"accounts_recieveable\") : \"\"\n    };\n    addAssetLiabilitiesAndEquity(data).then(async () => {\n      getUserProfile().then(res => {\n        if (res.success) {\n          if (res.response.form_step === 6) history.push(\"/dashboard\");else {\n            setFormStep(res.response.form_step);\n            history.push(\"/registration\");\n          }\n        }\n      }).catch(err => console.log(err));\n    }).catch(err => console.log(err));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(LoadingOverlay, {\n    active: true,\n    spinner: true,\n    text: \"Adding Quickbooks Data to database...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n_s(QuickBooksMiddleware, \"03KFQwJ42yjFVSPI5FDjmghn1vU=\", false, function () {\n  return [useHistory];\n});\n\n_c = QuickBooksMiddleware;\nexport default QuickBooksMiddleware; //     queryParam.get('total_bank_accounts')\n//     queryParam.get('total_other_current_assets')\n//     queryParam.get('total_current_assets')\n//     queryParam.get('total_fixed_assets')\n//     queryParam.get('total_assets')\n//     queryParam.get('accounts_payable')\n//     queryParam.get('total_accounts_payable')\n//     queryParam.get('total_other_current_liabilities')\n//     queryParam.get('total_current_liabilities')\n//     queryParam.get('total_long_term_liabilities')\n//     queryParam.get('total_liabilities')\n//     queryParam.get('total_equity')\n//     queryParam.get('total_liabilities_and_equity')\n\nvar _c;\n\n$RefreshReg$(_c, \"QuickBooksMiddleware\");","map":{"version":3,"sources":["/home/mutahharahmadpersonal/Development/Gro Pakistan/Current/grocapitalapp-react/src/middlewares/QuickBooksMiddleware.jsx"],"names":["useEffect","useContext","AppControlContext","useHistory","LoadingOverlay","addAssetLiabilitiesAndEquity","getUserProfile","QuickBooksMiddleware","history","setFormStep","queryParam","URLSearchParams","window","location","search","data","total_bank_accounts","get","total_other_current_assets","total_current_assets","total_fixed_assets","total_assets","accounts_payable","total_accounts_payable","total_other_current_liabilities","total_current_liabilities","total_long_term_liabilities","total_liabilities","total_equity","total_liabilities_and_equity","accounts_recieveable","then","res","success","response","form_step","push","catch","err","console","log"],"mappings":"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","sourcesContent":["import { useEffect, useContext } from \"react\";\nimport { AppControlContext } from \"../context/AppControlContext\";\nimport { useHistory } from \"react-router-dom\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport addAssetLiabilitiesAndEquity from \"../services/QuickBooks/AddAssetsLiabilititesAndEquity\";\nimport getUserProfile from \"../services/Forms/getUserProfile\";\n\nconst QuickBooksMiddleware = () => {\n  const history = useHistory();\n  const { setFormStep } = useContext(AppControlContext);\n\n  useEffect(() => {\n    const queryParam = new URLSearchParams(window.location.search);\n    const data = {\n      total_bank_accounts: queryParam.get(\"total_bank_accounts\")\n        ? queryParam.get(\"total_bank_accounts\")\n        : \"\",\n      total_other_current_assets: queryParam.get(\"total_other_current_assets\")\n        ? queryParam.get(\"total_other_current_assets\")\n        : \"\",\n      total_current_assets: queryParam.get(\"total_current_assets\")\n        ? queryParam.get(\"total_current_assets\")\n        : \"\",\n      total_fixed_assets: queryParam.get(\"total_fixed_assets\")\n        ? queryParam.get(\"total_fixed_assets\")\n        : \"\",\n      total_assets: queryParam.get(\"total_assets\")\n        ? queryParam.get(\"total_assets\")\n        : \"\",\n      accounts_payable: queryParam.get(\"accounts_payable\")\n        ? queryParam.get(\"accounts_payable\")\n        : \"\",\n      total_accounts_payable: queryParam.get(\"total_accounts_payable\")\n        ? queryParam.get(\"total_accounts_payable\")\n        : \"\",\n      total_other_current_liabilities: queryParam.get(\n        \"total_other_current_liabilities\"\n      )\n        ? queryParam.get(\"total_other_current_liabilities\")\n        : \"\",\n      total_current_liabilities: queryParam.get(\"total_current_liabilities\"),\n      total_long_term_liabilities: queryParam.get(\n        \"total_long_term_liabilities\"\n      ),\n      total_liabilities: queryParam.get(\"total_liabilities\"),\n      total_equity: queryParam.get(\"total_equity\"),\n      total_liabilities_and_equity: queryParam.get(\n        \"total_liabilities_and_equity\"\n      ),\n      accounts_recieveable: queryParam.get(\n        \"accounts_recieveable\"\n      )\n        ? queryParam.get(\"accounts_recieveable\")\n        : \"\",\n    };\n    addAssetLiabilitiesAndEquity(data)\n      .then(async () => {\n        getUserProfile()\n          .then((res) => {\n            if (res.success) {\n              if (res.response.form_step === 6) history.push(\"/dashboard\");\n              else {\n                setFormStep(res.response.form_step);\n                history.push(\"/registration\");\n              }\n            }\n          })\n          .catch((err) => console.log(err));\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  return (\n    <LoadingOverlay\n      active={true}\n      spinner\n      text=\"Adding Quickbooks Data to database...\"\n    ></LoadingOverlay>\n  );\n};\n\nexport default QuickBooksMiddleware;\n\n//     queryParam.get('total_bank_accounts')\n//     queryParam.get('total_other_current_assets')\n//     queryParam.get('total_current_assets')\n//     queryParam.get('total_fixed_assets')\n//     queryParam.get('total_assets')\n//     queryParam.get('accounts_payable')\n//     queryParam.get('total_accounts_payable')\n//     queryParam.get('total_other_current_liabilities')\n//     queryParam.get('total_current_liabilities')\n//     queryParam.get('total_long_term_liabilities')\n//     queryParam.get('total_liabilities')\n//     queryParam.get('total_equity')\n//     queryParam.get('total_liabilities_and_equity')\n"]},"metadata":{},"sourceType":"module"}